(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({"/Users/cabul/github/KeepGamersAlive/src/animation.js":[function(require,module,exports){
(function (global){
var TWEEN="undefined"!=typeof window?window.TWEEN:"undefined"!=typeof global?global.TWEEN:null,Tween=TWEEN.Tween,curve=TWEEN.Easing.Sinusoidal.InOut,dtor=Math.PI/180,rtod=180/Math.PI,Animation=function(t,i){this.frames=i||[],this.sprite=t,this.update=function(){t.position.x=this.posx,t.position.y=this.posy,t.rotation=this.rot},this.cursor=0,this.loop=!1},format=function(t){return{posx:t.position.x||0,posy:t.position.y||0,rot:(t.rotation||0)*dtor}};Animation.prototype={constructor:Animation,build:function(t){t=t||{},this.loop=t.loop||this.loop,this.cursor=t.cursor||this.cursor;for(var i,o,n,s,r=this.frames,e=r.length,a=this.loop,h=this.cursor,u=h,f=this.onframe,c=u+e,p=this,m=function(t){var i=format(r[t]);return function(){this.posx=i.posx,this.posy=i.posy,this.rot=i.rot,p.onframe&&f.call(r,t),p.cursor=(t+1)%e}};c>u;){s=r[u%e],n=new Tween(format(s));{var l=m(u%e);stop(u%e)}u+=1;var d=r[u%e];n.to(format(d),d.duration||1e3).delay(d.delay||0).easing(curve).onUpdate(this.update).onComplete(l),i&&i.chain(n),o||(o=n),i=n}return a&&i.chain(o),this.tween=o,this},play:function(t){t=t||{},this.build(t);var i=this.tween,o=t.transition;if(o){dt=dt||0;var n=this.frames[this.cursor%this.frames.length],s=this.spriteStatus(),r=this;this.tween=new Tween(format(s)).to(format(n),o).delay(t.delay||0).easing(curve).onUpdate(this.update).onComplete(function(){r.tween=i,i.start()}).onStop(function(){r.tween=i}).start()}else i.start();return this},pause:function(){return this.tween.stop(),this.tween.stopChainedTweens(),this.cursor=(this.cursor+1)%this.frames.length,this},spriteStatus:function(){return{position:this.sprite.position,rotation:this.sprite.rotation*rtod}},onFrame:function(t){return this.onframe=t,this},jumpTo:function(t){t=t||0;var i=this.frames[t];this.cursor=(t+1)%this.frames.length;var o=this.sprite;return o.position.x=i.position.x,o.position.y=i.position.y,o.rotation=i.rotation*dtor,this},repeat:function(t){for(var i=[].concat(this.frames),o=0;t>o;o+=1)this.frames=this.frames.concat(i);return this},chain:function(t){return this.frames=this.frames.concat(t.frames),this},clone:function(){return new Animation(this.sprite,[].concat(this.frames))}},Animation.loadAll=function(t,i){var o={};return Object.keys(i).forEach(function(n){o[n]=new Animation(t,i[n])}),o},Animation.link=function(t){var i=new Animation(t[0].sprite);return t.forEach(function(t){i.frames=i.frames.concat(t.frames)}),i},module.exports=Animation;
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],"/Users/cabul/github/KeepGamersAlive/src/animations/leftarm.js":[function(require,module,exports){
module.exports={typing:[{position:{x:240,y:670},rotation:12,duration:300},{position:{x:260,y:650},rotation:6,duration:300}],rest:[{position:{x:250,y:670},rotation:17,duration:700},{position:{x:250,y:670},rotation:17,duration:1e3}]};
},{}],"/Users/cabul/github/KeepGamersAlive/src/animations/rightarm.js":[function(require,module,exports){
module.exports={typing:[{position:{x:488,y:673},rotation:350,duration:200},{position:{x:468,y:668},rotation:355,duration:300,delay:150},{position:{x:500,y:660},rotation:343,duration:350}],mouse:[{position:{x:554,y:673},rotation:368,duration:400},{position:{x:556,y:670},rotation:368,duration:500}]};
},{}],"/Users/cabul/github/KeepGamersAlive/src/game.js":[function(require,module,exports){
(function (global){
var Gui="undefined"!=typeof window?window.dat.GUI:"undefined"!=typeof global?global.dat.GUI:null,gui=new Gui,tween="undefined"!=typeof window?window.TWEEN:"undefined"!=typeof global?global.TWEEN:null,pixi="undefined"!=typeof window?window.PIXI:"undefined"!=typeof global?global.PIXI:null,Keydoc=require("./keydoc"),Animation=require("./animation"),stage=new pixi.Stage(6750020),renderer,quit;module.exports={assets:["img/background.png","img/left_arm.png","img/right_arm.png"],oninit:function(n){renderer=n.renderer,quit=n.quit;var i=pixi.Sprite.fromImage("img/background.png");i.anchor.x=0,i.anchor.y=0,i.position.x=0,i.position.y=0,stage.addChild(i);var e=pixi.Sprite.fromImage("img/left_arm.png");e.anchor.x=.5,e.anchor.y=1;var o=pixi.Sprite.fromImage("img/right_arm.png");o.anchor.x=.5,o.anchor.y=1;var a,t={left:0,right:0},d=Animation.loadAll(e,require("./animations/leftarm")),r=Animation.loadAll(o,require("./animations/rightarm")),g=Animation.link([d.typing.clone().repeat(4),d.rest]).jumpTo(0).play({loop:!0}),l=Animation.link([r.typing.clone().repeat(2),r.mouse,r.typing]).jumpTo(0).play({loop:!0}),m={left:!0,right:!0},p=gui.addFolder("Left Arm");p.add(e.position,"x",-200,1e3).name("Position X"),p.add(e.position,"y",-200,1e3).name("Position Y"),a=p.add(t,"right",0,360).name("Rotation"),a.onChange(function(n){e.rotation=n*Math.PI/180}),a=p.add(m,"left").name("Animate"),a.onChange(function(n){n?g.play({transition:200}):g.pause()}),p=gui.addFolder("Right Arm"),p.add(o.position,"x",-200,1e3).name("Position X"),p.add(o.position,"y",-200,1e3).name("Position Y"),p.add(t,"right",0,360).name("Rotation"),a=p.add(t,"left",0,360).name("Rotation"),a.onChange(function(n){o.rotation=n*Math.PI/180}),a=p.add(m,"right").name("Animate"),a.onChange(function(n){n?l.play({transition:200}):l.pause()}),stage.addChild(e),stage.addChild(o),Keydoc.addEventListener("q",function(){quit()})},onframe:function(){renderer.render(stage),tween.update()},onquit:function(){console.log("Exit game")}};
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./animation":"/Users/cabul/github/KeepGamersAlive/src/animation.js","./animations/leftarm":"/Users/cabul/github/KeepGamersAlive/src/animations/leftarm.js","./animations/rightarm":"/Users/cabul/github/KeepGamersAlive/src/animations/rightarm.js","./keydoc":"/Users/cabul/github/KeepGamersAlive/src/keydoc.js"}],"/Users/cabul/github/KeepGamersAlive/src/keydoc.js":[function(require,module,exports){
var alias={left:37,up:38,right:39,down:40,space:32,tab:9,pageup:33,pagedown:34,escape:27,backspace:8,meta:91,alt:18,ctrl:17,shift:16,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},listeners={},pressed={};document.body.addEventListener("keyup",function(e){pressed[e.keyCode]=!1},!1),document.body.addEventListener("keydown",function(e){pressed[e.keyCode]=!0,Object.keys(listeners).forEach(function(e){var t,s,n=e.split("+");for(t=0,s=n.length;s>t;t+=1)if(key=n[t],keyCode=alias[key]||key.toUpperCase().charCodeAt(0),!pressed[keyCode])return;var r=!0;for(n=listeners[e],evt={stopPropagation:function(){r=!1},type:e},t=0,s=n.length;s>t&&r;t+=1)n[t].call(null,evt)})},!1),exports.addEventListener=function(e,t){var s=e.split("+").sort().join("+");void 0===listeners[s]&&(listeners[s]=[]),-1===listeners[s].indexOf(t)&&listeners[s].push(t)},exports.removeEventListener=function(e,t){var s=e.split("+").sort().join("+");if(void 0!==listeners[s]){var n=listeners[s].indexOf(t);-1!==n&&listeners[s].splice(n,1)}},exports.hasEventListener=function(e,t){var s=e.split("+").sort().join("+");return void 0===listeners[s]?!1:-1===listeners[s].indexOf(t)?!1:!0},exports.dispatchEvent=function(e){var t=e.type;void 0!==listeners[t]&&listeners[t].forEach(function(t){t.call(e)})};
},{}],"/Users/cabul/github/KeepGamersAlive":[function(require,module,exports){
(function (global){
var pixi="undefined"!=typeof window?window.PIXI:"undefined"!=typeof global?global.PIXI:null,renderer=pixi.autoDetectRenderer(800,600);document.body.appendChild(renderer.view);var game=require("./game"),assets=game.assets||[],loader=new pixi.AssetLoader(assets),tile=400/assets.length,loadingBar=new pixi.Graphics,loaded=0,loadingScreen=new pixi.Stage(0),loading=!0;loadingScreen.addChild(loadingBar),loader.onProgress=function(){loadingBar.beginFill(16777215*Math.random()),loadingBar.drawRect(200+tile*loaded,280,tile,40),loadingBar.endFill(),loaded+=1},loader.onComplete=function(){loading=!1},loader.load(),requestAnimFrame(function e(){if(loading)requestAnimFrame(e),renderer.render(loadingScreen);else{var n=0,a=!0,r={renderer:renderer,quit:function(){a=!1}};game.oninit(r),requestAnimFrame(function i(e){if(a){requestAnimFrame(i),e=e||n;var r=e-n;n=e,game.onframe(e,r)}})}});
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./game":"/Users/cabul/github/KeepGamersAlive/src/game.js"}]},{},["/Users/cabul/github/KeepGamersAlive"])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy93YXRjaGlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3Nlci1wYWNrL19wcmVsdWRlLmpzIiwic3JjL2FuaW1hdGlvbi5qcyIsInNyYy9hbmltYXRpb25zL2xlZnRhcm0uanMiLCJzcmMvYW5pbWF0aW9ucy9yaWdodGFybS5qcyIsInNyYy9nYW1lLmpzIiwic3JjL2tleWRvYy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBO0FBQ0E7QUFDQTs7QUNGQTs7QUNBQTs7QUNBQTtBQUNBO0FBQ0E7O0FDRkEiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiKGZ1bmN0aW9uIChnbG9iYWwpe1xudmFyIFRXRUVOPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93LlRXRUVOOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsLlRXRUVOOm51bGwsVHdlZW49VFdFRU4uVHdlZW4sY3VydmU9VFdFRU4uRWFzaW5nLlNpbnVzb2lkYWwuSW5PdXQsZHRvcj1NYXRoLlBJLzE4MCxydG9kPTE4MC9NYXRoLlBJLEFuaW1hdGlvbj1mdW5jdGlvbih0LGkpe3RoaXMuZnJhbWVzPWl8fFtdLHRoaXMuc3ByaXRlPXQsdGhpcy51cGRhdGU9ZnVuY3Rpb24oKXt0LnBvc2l0aW9uLng9dGhpcy5wb3N4LHQucG9zaXRpb24ueT10aGlzLnBvc3ksdC5yb3RhdGlvbj10aGlzLnJvdH0sdGhpcy5jdXJzb3I9MCx0aGlzLmxvb3A9ITF9LGZvcm1hdD1mdW5jdGlvbih0KXtyZXR1cm57cG9zeDp0LnBvc2l0aW9uLnh8fDAscG9zeTp0LnBvc2l0aW9uLnl8fDAscm90Oih0LnJvdGF0aW9ufHwwKSpkdG9yfX07QW5pbWF0aW9uLnByb3RvdHlwZT17Y29uc3RydWN0b3I6QW5pbWF0aW9uLGJ1aWxkOmZ1bmN0aW9uKHQpe3Q9dHx8e30sdGhpcy5sb29wPXQubG9vcHx8dGhpcy5sb29wLHRoaXMuY3Vyc29yPXQuY3Vyc29yfHx0aGlzLmN1cnNvcjtmb3IodmFyIGksbyxuLHMscj10aGlzLmZyYW1lcyxlPXIubGVuZ3RoLGE9dGhpcy5sb29wLGg9dGhpcy5jdXJzb3IsdT1oLGY9dGhpcy5vbmZyYW1lLGM9dStlLHA9dGhpcyxtPWZ1bmN0aW9uKHQpe3ZhciBpPWZvcm1hdChyW3RdKTtyZXR1cm4gZnVuY3Rpb24oKXt0aGlzLnBvc3g9aS5wb3N4LHRoaXMucG9zeT1pLnBvc3ksdGhpcy5yb3Q9aS5yb3QscC5vbmZyYW1lJiZmLmNhbGwocix0KSxwLmN1cnNvcj0odCsxKSVlfX07Yz51Oyl7cz1yW3UlZV0sbj1uZXcgVHdlZW4oZm9ybWF0KHMpKTt7dmFyIGw9bSh1JWUpO3N0b3AodSVlKX11Kz0xO3ZhciBkPXJbdSVlXTtuLnRvKGZvcm1hdChkKSxkLmR1cmF0aW9ufHwxZTMpLmRlbGF5KGQuZGVsYXl8fDApLmVhc2luZyhjdXJ2ZSkub25VcGRhdGUodGhpcy51cGRhdGUpLm9uQ29tcGxldGUobCksaSYmaS5jaGFpbihuKSxvfHwobz1uKSxpPW59cmV0dXJuIGEmJmkuY2hhaW4obyksdGhpcy50d2Vlbj1vLHRoaXN9LHBsYXk6ZnVuY3Rpb24odCl7dD10fHx7fSx0aGlzLmJ1aWxkKHQpO3ZhciBpPXRoaXMudHdlZW4sbz10LnRyYW5zaXRpb247aWYobyl7ZHQ9ZHR8fDA7dmFyIG49dGhpcy5mcmFtZXNbdGhpcy5jdXJzb3IldGhpcy5mcmFtZXMubGVuZ3RoXSxzPXRoaXMuc3ByaXRlU3RhdHVzKCkscj10aGlzO3RoaXMudHdlZW49bmV3IFR3ZWVuKGZvcm1hdChzKSkudG8oZm9ybWF0KG4pLG8pLmRlbGF5KHQuZGVsYXl8fDApLmVhc2luZyhjdXJ2ZSkub25VcGRhdGUodGhpcy51cGRhdGUpLm9uQ29tcGxldGUoZnVuY3Rpb24oKXtyLnR3ZWVuPWksaS5zdGFydCgpfSkub25TdG9wKGZ1bmN0aW9uKCl7ci50d2Vlbj1pfSkuc3RhcnQoKX1lbHNlIGkuc3RhcnQoKTtyZXR1cm4gdGhpc30scGF1c2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50d2Vlbi5zdG9wKCksdGhpcy50d2Vlbi5zdG9wQ2hhaW5lZFR3ZWVucygpLHRoaXMuY3Vyc29yPSh0aGlzLmN1cnNvcisxKSV0aGlzLmZyYW1lcy5sZW5ndGgsdGhpc30sc3ByaXRlU3RhdHVzOmZ1bmN0aW9uKCl7cmV0dXJue3Bvc2l0aW9uOnRoaXMuc3ByaXRlLnBvc2l0aW9uLHJvdGF0aW9uOnRoaXMuc3ByaXRlLnJvdGF0aW9uKnJ0b2R9fSxvbkZyYW1lOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm9uZnJhbWU9dCx0aGlzfSxqdW1wVG86ZnVuY3Rpb24odCl7dD10fHwwO3ZhciBpPXRoaXMuZnJhbWVzW3RdO3RoaXMuY3Vyc29yPSh0KzEpJXRoaXMuZnJhbWVzLmxlbmd0aDt2YXIgbz10aGlzLnNwcml0ZTtyZXR1cm4gby5wb3NpdGlvbi54PWkucG9zaXRpb24ueCxvLnBvc2l0aW9uLnk9aS5wb3NpdGlvbi55LG8ucm90YXRpb249aS5yb3RhdGlvbipkdG9yLHRoaXN9LHJlcGVhdDpmdW5jdGlvbih0KXtmb3IodmFyIGk9W10uY29uY2F0KHRoaXMuZnJhbWVzKSxvPTA7dD5vO28rPTEpdGhpcy5mcmFtZXM9dGhpcy5mcmFtZXMuY29uY2F0KGkpO3JldHVybiB0aGlzfSxjaGFpbjpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5mcmFtZXM9dGhpcy5mcmFtZXMuY29uY2F0KHQuZnJhbWVzKSx0aGlzfSxjbG9uZTpmdW5jdGlvbigpe3JldHVybiBuZXcgQW5pbWF0aW9uKHRoaXMuc3ByaXRlLFtdLmNvbmNhdCh0aGlzLmZyYW1lcykpfX0sQW5pbWF0aW9uLmxvYWRBbGw9ZnVuY3Rpb24odCxpKXt2YXIgbz17fTtyZXR1cm4gT2JqZWN0LmtleXMoaSkuZm9yRWFjaChmdW5jdGlvbihuKXtvW25dPW5ldyBBbmltYXRpb24odCxpW25dKX0pLG99LEFuaW1hdGlvbi5saW5rPWZ1bmN0aW9uKHQpe3ZhciBpPW5ldyBBbmltYXRpb24odFswXS5zcHJpdGUpO3JldHVybiB0LmZvckVhY2goZnVuY3Rpb24odCl7aS5mcmFtZXM9aS5mcmFtZXMuY29uY2F0KHQuZnJhbWVzKX0pLGl9LG1vZHVsZS5leHBvcnRzPUFuaW1hdGlvbjtcbn0pLmNhbGwodGhpcyx0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHt9KSIsIm1vZHVsZS5leHBvcnRzPXt0eXBpbmc6W3twb3NpdGlvbjp7eDoyNDAseTo2NzB9LHJvdGF0aW9uOjEyLGR1cmF0aW9uOjMwMH0se3Bvc2l0aW9uOnt4OjI2MCx5OjY1MH0scm90YXRpb246NixkdXJhdGlvbjozMDB9XSxyZXN0Olt7cG9zaXRpb246e3g6MjUwLHk6NjcwfSxyb3RhdGlvbjoxNyxkdXJhdGlvbjo3MDB9LHtwb3NpdGlvbjp7eDoyNTAseTo2NzB9LHJvdGF0aW9uOjE3LGR1cmF0aW9uOjFlM31dfTsiLCJtb2R1bGUuZXhwb3J0cz17dHlwaW5nOlt7cG9zaXRpb246e3g6NDg4LHk6NjczfSxyb3RhdGlvbjozNTAsZHVyYXRpb246MjAwfSx7cG9zaXRpb246e3g6NDY4LHk6NjY4fSxyb3RhdGlvbjozNTUsZHVyYXRpb246MzAwLGRlbGF5OjE1MH0se3Bvc2l0aW9uOnt4OjUwMCx5OjY2MH0scm90YXRpb246MzQzLGR1cmF0aW9uOjM1MH1dLG1vdXNlOlt7cG9zaXRpb246e3g6NTU0LHk6NjczfSxyb3RhdGlvbjozNjgsZHVyYXRpb246NDAwfSx7cG9zaXRpb246e3g6NTU2LHk6NjcwfSxyb3RhdGlvbjozNjgsZHVyYXRpb246NTAwfV19OyIsIihmdW5jdGlvbiAoZ2xvYmFsKXtcbnZhciBHdWk9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3cuZGF0LkdVSTpcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbC5kYXQuR1VJOm51bGwsZ3VpPW5ldyBHdWksdHdlZW49XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3cuVFdFRU46XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWwuVFdFRU46bnVsbCxwaXhpPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93LlBJWEk6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWwuUElYSTpudWxsLEtleWRvYz1yZXF1aXJlKFwiLi9rZXlkb2NcIiksQW5pbWF0aW9uPXJlcXVpcmUoXCIuL2FuaW1hdGlvblwiKSxzdGFnZT1uZXcgcGl4aS5TdGFnZSg2NzUwMDIwKSxyZW5kZXJlcixxdWl0O21vZHVsZS5leHBvcnRzPXthc3NldHM6W1wiaW1nL2JhY2tncm91bmQucG5nXCIsXCJpbWcvbGVmdF9hcm0ucG5nXCIsXCJpbWcvcmlnaHRfYXJtLnBuZ1wiXSxvbmluaXQ6ZnVuY3Rpb24obil7cmVuZGVyZXI9bi5yZW5kZXJlcixxdWl0PW4ucXVpdDt2YXIgaT1waXhpLlNwcml0ZS5mcm9tSW1hZ2UoXCJpbWcvYmFja2dyb3VuZC5wbmdcIik7aS5hbmNob3IueD0wLGkuYW5jaG9yLnk9MCxpLnBvc2l0aW9uLng9MCxpLnBvc2l0aW9uLnk9MCxzdGFnZS5hZGRDaGlsZChpKTt2YXIgZT1waXhpLlNwcml0ZS5mcm9tSW1hZ2UoXCJpbWcvbGVmdF9hcm0ucG5nXCIpO2UuYW5jaG9yLng9LjUsZS5hbmNob3IueT0xO3ZhciBvPXBpeGkuU3ByaXRlLmZyb21JbWFnZShcImltZy9yaWdodF9hcm0ucG5nXCIpO28uYW5jaG9yLng9LjUsby5hbmNob3IueT0xO3ZhciBhLHQ9e2xlZnQ6MCxyaWdodDowfSxkPUFuaW1hdGlvbi5sb2FkQWxsKGUscmVxdWlyZShcIi4vYW5pbWF0aW9ucy9sZWZ0YXJtXCIpKSxyPUFuaW1hdGlvbi5sb2FkQWxsKG8scmVxdWlyZShcIi4vYW5pbWF0aW9ucy9yaWdodGFybVwiKSksZz1BbmltYXRpb24ubGluayhbZC50eXBpbmcuY2xvbmUoKS5yZXBlYXQoNCksZC5yZXN0XSkuanVtcFRvKDApLnBsYXkoe2xvb3A6ITB9KSxsPUFuaW1hdGlvbi5saW5rKFtyLnR5cGluZy5jbG9uZSgpLnJlcGVhdCgyKSxyLm1vdXNlLHIudHlwaW5nXSkuanVtcFRvKDApLnBsYXkoe2xvb3A6ITB9KSxtPXtsZWZ0OiEwLHJpZ2h0OiEwfSxwPWd1aS5hZGRGb2xkZXIoXCJMZWZ0IEFybVwiKTtwLmFkZChlLnBvc2l0aW9uLFwieFwiLC0yMDAsMWUzKS5uYW1lKFwiUG9zaXRpb24gWFwiKSxwLmFkZChlLnBvc2l0aW9uLFwieVwiLC0yMDAsMWUzKS5uYW1lKFwiUG9zaXRpb24gWVwiKSxhPXAuYWRkKHQsXCJyaWdodFwiLDAsMzYwKS5uYW1lKFwiUm90YXRpb25cIiksYS5vbkNoYW5nZShmdW5jdGlvbihuKXtlLnJvdGF0aW9uPW4qTWF0aC5QSS8xODB9KSxhPXAuYWRkKG0sXCJsZWZ0XCIpLm5hbWUoXCJBbmltYXRlXCIpLGEub25DaGFuZ2UoZnVuY3Rpb24obil7bj9nLnBsYXkoe3RyYW5zaXRpb246MjAwfSk6Zy5wYXVzZSgpfSkscD1ndWkuYWRkRm9sZGVyKFwiUmlnaHQgQXJtXCIpLHAuYWRkKG8ucG9zaXRpb24sXCJ4XCIsLTIwMCwxZTMpLm5hbWUoXCJQb3NpdGlvbiBYXCIpLHAuYWRkKG8ucG9zaXRpb24sXCJ5XCIsLTIwMCwxZTMpLm5hbWUoXCJQb3NpdGlvbiBZXCIpLHAuYWRkKHQsXCJyaWdodFwiLDAsMzYwKS5uYW1lKFwiUm90YXRpb25cIiksYT1wLmFkZCh0LFwibGVmdFwiLDAsMzYwKS5uYW1lKFwiUm90YXRpb25cIiksYS5vbkNoYW5nZShmdW5jdGlvbihuKXtvLnJvdGF0aW9uPW4qTWF0aC5QSS8xODB9KSxhPXAuYWRkKG0sXCJyaWdodFwiKS5uYW1lKFwiQW5pbWF0ZVwiKSxhLm9uQ2hhbmdlKGZ1bmN0aW9uKG4pe24/bC5wbGF5KHt0cmFuc2l0aW9uOjIwMH0pOmwucGF1c2UoKX0pLHN0YWdlLmFkZENoaWxkKGUpLHN0YWdlLmFkZENoaWxkKG8pLEtleWRvYy5hZGRFdmVudExpc3RlbmVyKFwicVwiLGZ1bmN0aW9uKCl7cXVpdCgpfSl9LG9uZnJhbWU6ZnVuY3Rpb24oKXtyZW5kZXJlci5yZW5kZXIoc3RhZ2UpLHR3ZWVuLnVwZGF0ZSgpfSxvbnF1aXQ6ZnVuY3Rpb24oKXtjb25zb2xlLmxvZyhcIkV4aXQgZ2FtZVwiKX19O1xufSkuY2FsbCh0aGlzLHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDoge30pIiwidmFyIGFsaWFzPXtsZWZ0OjM3LHVwOjM4LHJpZ2h0OjM5LGRvd246NDAsc3BhY2U6MzIsdGFiOjkscGFnZXVwOjMzLHBhZ2Vkb3duOjM0LGVzY2FwZToyNyxiYWNrc3BhY2U6OCxtZXRhOjkxLGFsdDoxOCxjdHJsOjE3LHNoaWZ0OjE2LGYxOjExMixmMjoxMTMsZjM6MTE0LGY0OjExNSxmNToxMTYsZjY6MTE3LGY3OjExOCxmODoxMTksZjk6MTIwLGYxMDoxMjEsZjExOjEyMixmMTI6MTIzfSxsaXN0ZW5lcnM9e30scHJlc3NlZD17fTtkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLGZ1bmN0aW9uKGUpe3ByZXNzZWRbZS5rZXlDb2RlXT0hMX0sITEpLGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIixmdW5jdGlvbihlKXtwcmVzc2VkW2Uua2V5Q29kZV09ITAsT2JqZWN0LmtleXMobGlzdGVuZXJzKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0LHMsbj1lLnNwbGl0KFwiK1wiKTtmb3IodD0wLHM9bi5sZW5ndGg7cz50O3QrPTEpaWYoa2V5PW5bdF0sa2V5Q29kZT1hbGlhc1trZXldfHxrZXkudG9VcHBlckNhc2UoKS5jaGFyQ29kZUF0KDApLCFwcmVzc2VkW2tleUNvZGVdKXJldHVybjt2YXIgcj0hMDtmb3Iobj1saXN0ZW5lcnNbZV0sZXZ0PXtzdG9wUHJvcGFnYXRpb246ZnVuY3Rpb24oKXtyPSExfSx0eXBlOmV9LHQ9MCxzPW4ubGVuZ3RoO3M+dCYmcjt0Kz0xKW5bdF0uY2FsbChudWxsLGV2dCl9KX0sITEpLGV4cG9ydHMuYWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihlLHQpe3ZhciBzPWUuc3BsaXQoXCIrXCIpLnNvcnQoKS5qb2luKFwiK1wiKTt2b2lkIDA9PT1saXN0ZW5lcnNbc10mJihsaXN0ZW5lcnNbc109W10pLC0xPT09bGlzdGVuZXJzW3NdLmluZGV4T2YodCkmJmxpc3RlbmVyc1tzXS5wdXNoKHQpfSxleHBvcnRzLnJlbW92ZUV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oZSx0KXt2YXIgcz1lLnNwbGl0KFwiK1wiKS5zb3J0KCkuam9pbihcIitcIik7aWYodm9pZCAwIT09bGlzdGVuZXJzW3NdKXt2YXIgbj1saXN0ZW5lcnNbc10uaW5kZXhPZih0KTstMSE9PW4mJmxpc3RlbmVyc1tzXS5zcGxpY2UobiwxKX19LGV4cG9ydHMuaGFzRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihlLHQpe3ZhciBzPWUuc3BsaXQoXCIrXCIpLnNvcnQoKS5qb2luKFwiK1wiKTtyZXR1cm4gdm9pZCAwPT09bGlzdGVuZXJzW3NdPyExOi0xPT09bGlzdGVuZXJzW3NdLmluZGV4T2YodCk/ITE6ITB9LGV4cG9ydHMuZGlzcGF0Y2hFdmVudD1mdW5jdGlvbihlKXt2YXIgdD1lLnR5cGU7dm9pZCAwIT09bGlzdGVuZXJzW3RdJiZsaXN0ZW5lcnNbdF0uZm9yRWFjaChmdW5jdGlvbih0KXt0LmNhbGwoZSl9KX07Il19
